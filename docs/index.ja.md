# ライブラリ概要
Denoで構築され、JSRへ公開されるデバッグ用ログ出力のライブラリである。
単体では動作せず、アプリケーションから呼ばれて利用される。

# 仕様
DebugLoggerは、アプリケーションの設定やパス解決のデバッグを支援するためのロギングシステムである。
ただしログファイルへの出力は行わず、テストコードから実行され標準出力（またはエラー出力）のみ行う。

## ユースケース
テストコード（ *_test.ts ） から呼び出される。
タイミングは任意だが、デバッグのために以下を重要なポイントとして想定する。
- 関数呼び出し前
- 引数の受け取り直後
- 返り値の直前
- 返り値の受け取り直後
- 重要な加工処理の前後

## 明確な要件

### ログレベル
- DEBUG: 詳細なデバッグ情報
- INFO: 一般的な情報
- WARN: 警告
- ERROR: エラー

### 基本機能
1. ログの出力項目
   - タイムスタンプ
   - ログレベル
   - メッセージ内容
   - オブジェクトのダンプ（必要な場合）

2. ログの有効/無効切り替え
  - テスト実行時に `LOG_LEVEL=debug deno test` のように指定

3. ログレベルの制御
   - `setLogLevel(LogLevel)` によるフィルタリング
   - 設定されたレベル以上のログのみを出力

4. ログの取得
  - テストコードでのみ呼び出される。呼び出し元は必ず `*_test.ts` である。

5. 配布方法
  - JSR へ公開するので、適した方法で構築すること。

### 出力形式
```typescript
interface LogEntry {
  timestamp: number;
  level: LogLevel;
  message: string;
  data?: unknown;
}
```

## その他、参考となる要件定義

### 1. パフォーマンス要件
- ログの保持期間: 出力のみ、保持不要
- メモリ使用量の制限： 記録しない
- ログエントリの最大数：なし

### 2. 非同期処理
- ログ書き込みの同期/非同期： 書き込まない
- 非同期処理中のエラーハンドリング：書き込まないため不要

### 3. セキュリティ
- センシティブな情報のマスキング：不要
- ログの暗号化要件：不要
- アクセス制御：不要

### 4. 永続化
- ファイルへの出力要件：不要
- ログローテーション：不要
- バックアップ戦略：不要

### 5. フォーマット
- カスタムフォーマッターのサポート：不要
- 国際化対応：不要、英語。AIが理解すればよい。
- タイムゾーン処理：不要

### 6. エラー処理
- ロガー自体のエラー処理方針：エラー出力のみ
- ログ書き込み失敗時の挙動：不要
- エラー通知メカニズム：不要

## 今後の拡張検討事項
不要

## 制約事項

1. 依存関係
   - 外部ライブラリへの依存を最小限に
   - Denoの標準ライブラリのみを使用

2. 互換性
   - TypeScript/JavaScript互換性の維持
   - Denoバージョンの互換性要件

3. サイズ
   - バンドルサイズの制限：できる限り最小化
   - メモリフットプリントの制限 ：できる限り最小化


